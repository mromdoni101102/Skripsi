{"version":3,"names":["require","React","render","screen","fireEvent","global","confirm","jest","fn","process","env","SUBMISSION_PATH","Error","Cart","default","describe","mockOnRemove","mockOnCheckout","mockItems","name","price","beforeEach","mockClear","test","_jsxRuntime","jsx","total","items","onRemove","onCheckout","expect","getByText","toBeInTheDocument","queryByRole","not","mockReturnValue","removeButtons","getAllByRole","click","toHaveBeenCalledWith","toHaveBeenCalled","queryByText","checkoutButton","getByRole","toHaveBeenCalledTimes"],"sources":["cart.test.js"],"sourcesContent":["/**\n * @jest-environment jsdom\n */\nrequire('@testing-library/jest-dom');\nconst React = require('react');\nconst { render, screen, fireEvent } = require('@testing-library/react');\n\n// ======================================================================\n// PERSIAPAN LINGKUNGAN: MOCK FUNGSI 'confirm'\n// ======================================================================\n// Ini penting agar kita bisa menguji tombol 'Hapus' tanpa pop-up muncul\nglobal.confirm = jest.fn();\n\n\n// ======================================================================\n// MENGAMBIL KODE MAHASISWA\n// ======================================================================\nif (!process.env.SUBMISSION_PATH) {\n  throw new Error('SUBMISSION_PATH environment variable not set.');\n}\n// Mengambil komponen utama dari file jawaban mahasiswa.\nconst Cart = require(process.env.SUBMISSION_PATH).default;\n\n\n// ======================================================================\n// CHECKLIST PENILAIAN FUNGSIONAL (VERSI LENGKAP ANDA)\n// ======================================================================\ndescribe('Praktikum: Komponen Cart (Studi Kasus)', () => {\n\n    // Siapkan data dummy dan fungsi mock untuk digunakan di semua tes\n    const mockOnRemove = jest.fn();\n    const mockOnCheckout = jest.fn();\n    const mockItems = [\n      { name: 'Nasi Goreng', price: 25000 },\n      { name: 'Mie Ayam', price: 20000 }\n    ];\n\n    // Bersihkan semua mock sebelum setiap tes\n    beforeEach(() => {\n        mockOnRemove.mockClear();\n        mockOnCheckout.mockClear();\n        global.confirm.mockClear();\n    });\n\n    test('Kriteria 1: Harus menampilkan pesan \"Belum ada pesanan\" saat keranjang kosong', () => {\n        render(<Cart total={0} items={[]} onRemove={mockOnRemove} onCheckout={mockOnCheckout} />);\n        expect(screen.getByText(/Belum ada pesanan/i)).toBeInTheDocument();\n        // Tombol checkout tidak boleh ada\n        expect(screen.queryByRole('button', { name: /Checkout/i })).not.toBeInTheDocument();\n    });\n\n    test('Kriteria 2: Harus menampilkan semua item dan total belanja dengan benar', () => {\n        render(<Cart total={45000} items={mockItems} onRemove={mockOnRemove} onCheckout={mockOnCheckout} />);\n\n        // Cek apakah item muncul\n        expect(screen.getByText(/Nasi Goreng - Rp 25,000/i)).toBeInTheDocument();\n        expect(screen.getByText(/Mie Ayam - Rp 20,000/i)).toBeInTheDocument();\n\n        // Cek apakah total muncul\n        expect(screen.getByText(/Total Belanja: Rp 45,000/i)).toBeInTheDocument();\n    });\n\n    test('Kriteria 3: Tombol \"Hapus\" harus memanggil fungsi onRemove jika dikonfirmasi', () => {\n        // Atur agar 'confirm' mengembalikan 'true' (seolah-olah pengguna mengklik \"OK\")\n        global.confirm.mockReturnValue(true);\n\n        render(<Cart total={45000} items={mockItems} onRemove={mockOnRemove} onCheckout={mockOnCheckout} />);\n\n        // Cari semua tombol hapus dan klik yang pertama\n        const removeButtons = screen.getAllByRole('button', { name: /Hapus/i });\n        fireEvent.click(removeButtons[0]);\n\n        // Pastikan onRemove dipanggil dengan index yang benar (0)\n        expect(mockOnRemove).toHaveBeenCalledWith(0);\n    });\n\n    test('Kriteria 4: Tombol \"Hapus\" TIDAK memanggil onRemove jika tidak dikonfirmasi', () => {\n        // Atur agar 'confirm' mengembalikan 'false' (seolah-olah pengguna mengklik \"Cancel\")\n        global.confirm.mockReturnValue(false);\n\n        render(<Cart total={45000} items={mockItems} onRemove={mockOnRemove} onCheckout={mockOnCheckout} />);\n\n        const removeButtons = screen.getAllByRole('button', { name: /Hapus/i });\n        fireEvent.click(removeButtons[0]);\n\n        // Pastikan onRemove TIDAK dipanggil sama sekali\n        expect(mockOnRemove).not.toHaveBeenCalled();\n    });\n\n    test('Kriteria 5: Harus menampilkan \"Gratis ongkir!\" jika total > 100000', () => {\n        render(<Cart total={150000} items={mockItems} onRemove={mockOnRemove} onCheckout={mockOnCheckout} />);\n        expect(screen.getByText(/Gratis ongkir!/i)).toBeInTheDocument();\n        expect(screen.queryByText(/Tidak Dapat Gratis Ongkir/i)).not.toBeInTheDocument();\n    });\n\n    test('Kriteria 6: Harus menampilkan \"Tidak Dapat Gratis Ongkir\" jika total <= 100000', () => {\n        render(<Cart total={90000} items={mockItems} onRemove={mockOnRemove} onCheckout={mockOnCheckout} />);\n        expect(screen.getByText(/Tidak Dapat Gratis Ongkir/i)).toBeInTheDocument();\n        expect(screen.queryByText(/Gratis ongkir!/i)).not.toBeInTheDocument();\n    });\n\n    test('Kriteria 7: Tombol \"Checkout\" harus memanggil fungsi onCheckout saat diklik', () => {\n        render(<Cart total={45000} items={mockItems} onRemove={mockOnRemove} onCheckout={mockOnCheckout} />);\n\n        const checkoutButton = screen.getByRole('button', { name: /Checkout/i });\n        fireEvent.click(checkoutButton);\n\n        expect(mockOnCheckout).toHaveBeenCalledTimes(1);\n    });\n});\n"],"mappings":"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","ignoreList":[]}