{"version":3,"names":["_getJestObj","mock","MockedMenuItem","name","price","onAdd","_jsxRuntime","jsxs","children","toLocaleString","jsx","onClick","virtual","MockedCart","total","items","onRemove","onCheckout","map","item","index","length","require","jest","React","render","screen","fireEvent","waitFor","userEvent","default","global","alert","fn","process","env","SUBMISSION_PATH","Error","View","describe","user","setup","beforeEach","mockClear","test","expect","getByRole","toBeInTheDocument","menuItems","getAllByTestId","toHaveLength","getByText","addButtons","getAllByRole","click","totalElement","findByText","finalTotalElement","findByTestId","removeButtons","checkoutButton","findByRole","toHaveBeenCalledWith","toBeDefined"],"sources":["view.test.js"],"sourcesContent":["/**\n * @jest-environment jsdom\n */\nrequire('@testing-library/jest-dom');\nconst React = require('react');\nconst { render, screen, fireEvent, waitFor } = require('@testing-library/react');\nconst userEvent = require('@testing-library/user-event').default;\n\n// ======================================================================\n// BAGIAN 1: PERSIAPAN LINGKUNGAN (MOCKING)\n// ======================================================================\n// Mock komponen MenuItem agar kita bisa mengontrolnya\njest.mock('../../components/studi_kasus/MenuItem', () => {\n    return function MockedMenuItem({ name, price, onAdd }) {\n        return (\n            <div data-testid=\"menu-item\">\n                <span>{name} - Rp {price.toLocaleString()}</span>\n                <button onClick={onAdd}>Tambah</button>\n            </div>\n        );\n    };\n}, { virtual: true });\n\n// Mock komponen Cart agar kita bisa mengontrolnya\njest.mock('../../components/studi_kasus/Cart', () => {\n    return function MockedCart({ total, items, onRemove, onCheckout }) {\n        return (\n            <div data-testid=\"cart\">\n                <span>Total: Rp {total.toLocaleString()}</span>\n                {items.map((item, index) => (\n                    <div key={index} data-testid=\"cart-item\">\n                        <span>{item.name}</span>\n                        <button onClick={() => onRemove(index)}>Hapus</button>\n                    </div>\n                ))}\n                {items.length > 0 && (\n                    <button onClick={onCheckout}>Checkout</button>\n                )}\n            </div>\n        );\n    };\n}, { virtual: true });\n\n// Mock fungsi alert bawaan browser\nglobal.alert = jest.fn();\n\n// ======================================================================\n// BAGIAN 2: MENGAMBIL KODE MAHASISWA\n// ======================================================================\nif (!process.env.SUBMISSION_PATH) {\n  throw new Error('SUBMISSION_PATH environment variable not set.');\n}\nconst View = require(process.env.SUBMISSION_PATH).default;\n\n\n// ======================================================================\n// BAGIAN 3: \"CHECKLIST\" PENILAIAN FUNGSIONAL\n// ======================================================================\ndescribe('Praktikum: Aplikasi Restoran (Studi Kasus)', () => {\n\n    const user = userEvent.setup();\n\n    beforeEach(() => {\n        // Render komponen View sebelum setiap tes\n        render(<View />);\n        // Bersihkan mock alert\n        global.alert.mockClear();\n    });\n\n    test('Kriteria 1: Harus menampilkan judul dan 3 menu item saat awal render', () => {\n        expect(screen.getByRole('heading', { name: /Daftar Menu/i })).toBeInTheDocument();\n\n        const menuItems = screen.getAllByTestId('menu-item');\n        expect(menuItems).toHaveLength(3);\n\n        expect(screen.getByText(/Nasi Goreng/i)).toBeInTheDocument();\n        expect(screen.getByText(/Ayam Bakar/i)).toBeInTheDocument();\n        expect(screen.getByText(/Es Teh Manis/i)).toBeInTheDocument();\n    });\n\n    test('Kriteria 2: Menambah item ke keranjang harus memperbarui total belanja', async () => {\n        // Cari semua tombol \"Tambah\"\n        const addButtons = screen.getAllByRole('button', { name: /Tambah/i });\n\n        // Klik tombol tambah untuk Nasi Goreng (25000)\n        await user.click(addButtons[0]);\n\n        // Tunggu dan periksa apakah total berubah\n        const totalElement = await screen.findByText(/Total: Rp 25,000/i);\n        expect(totalElement).toBeInTheDocument();\n\n        // Klik tombol tambah untuk Ayam Bakar (35000)\n        await user.click(addButtons[1]);\n\n        // Tunggu dan periksa apakah total terakumulasi dengan benar\n        const finalTotalElement = await screen.findByText(/Total: Rp 60,000/i);\n        expect(finalTotalElement).toBeInTheDocument();\n    });\n\n    test('Kriteria 3: Menghapus item dari keranjang harus memperbarui total belanja', async () => {\n        const addButtons = screen.getAllByRole('button', { name: /Tambah/i });\n\n        // Tambah 2 item dulu\n        await user.click(addButtons[0]); // Nasi Goreng\n        await user.click(addButtons[1]); // Ayam Bakar\n\n        // Tunggu sampai item muncul di keranjang\n        await screen.findByTestId('cart');\n\n        // Cari tombol hapus dan klik yang pertama (untuk Nasi Goreng)\n        const removeButtons = screen.getAllByRole('button', { name: /Hapus/i });\n        await user.click(removeButtons[0]);\n\n        // Tunggu dan periksa apakah total berkurang\n        const totalElement = await screen.findByText(/Total: Rp 35,000/i);\n        expect(totalElement).toBeInTheDocument();\n    });\n\n    test('Kriteria 4: Tombol \"Checkout\" harus mengosongkan keranjang dan total', async () => {\n        const addButtons = screen.getAllByRole('button', { name: /Tambah/i });\n        await user.click(addButtons[0]);\n\n        // Tunggu sampai tombol checkout muncul\n        const checkoutButton = await screen.findByRole('button', { name: /Checkout/i });\n        await user.click(checkoutButton);\n\n        // Periksa apakah alert dipanggil\n        expect(global.alert).toHaveBeenCalledWith('Terima kasih! Pesanan Anda sedang diproses.');\n\n        // Tunggu dan periksa apakah total kembali ke 0\n        const totalElement = await screen.findByText(/Total: Rp 0/i);\n        expect(totalElement).toBeInTheDocument();\n    });\n\n    test('Kriteria 5: Komponen \"View\" harus diexport dengan benar', () => {\n        expect(View).toBeDefined();\n    });\n});\n"],"mappings":"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","ignoreList":[]}